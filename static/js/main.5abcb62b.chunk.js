(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{676:function(e,t,a){},779:function(e,t,a){},780:function(e,t,a){},784:function(e,t,a){},785:function(e,t,a){"use strict";a.r(t);a(257),a(268),a(269),a(270),a(271),a(272),a(273),a(274),a(275),a(276),a(277),a(278),a(279),a(280),a(281),a(416),a(417),a(418),a(419),a(420),a(421),a(422),a(284),a(424),a(425),a(170),a(426),a(427),a(428),a(429),a(430),a(431),a(432),a(433),a(434),a(435),a(436),a(437),a(438),a(439),a(441),a(442),a(444),a(445),a(293),a(172),a(446),a(447),a(448),a(449),a(450),a(451),a(452),a(453),a(454),a(455),a(456),a(457),a(458),a(459),a(460),a(461),a(298),a(462),a(463),a(464),a(465),a(466),a(467),a(468),a(469),a(470),a(471),a(472),a(474),a(475),a(476),a(477),a(478),a(479),a(480),a(481),a(482),a(483),a(484),a(485),a(486),a(487),a(488),a(489),a(490),a(491),a(492),a(493),a(230),a(495),a(496),a(497),a(498),a(501),a(502),a(503),a(505),a(506),a(507),a(508),a(509),a(510),a(511),a(512),a(513),a(514),a(515),a(310),a(516),a(517),a(234),a(518),a(519),a(520),a(521),a(179),a(522),a(523),a(524),a(525),a(526),a(527),a(528),a(529),a(530),a(531),a(532),a(533),a(534),a(535),a(536),a(537),a(538),a(539),a(540),a(541),a(542),a(543),a(544),a(545),a(546),a(547),a(549),a(550),a(551),a(552),a(553),a(554),a(555),a(556),a(557),a(558),a(559),a(560),a(562),a(563),a(564),a(565),a(566),a(567),a(568),a(569),a(570),a(571),a(572),a(573),a(574),a(575),a(576),a(577),a(578),a(579),a(580),a(581),a(582),a(239),a(583),a(584),a(586),a(587),a(588),a(589),a(590),a(318),a(319),a(320),a(321),a(322),a(323),a(324),a(325),a(326),a(327),a(328),a(329),a(330),a(331),a(332),a(333),a(334),a(593),a(594),a(595),a(596),a(597),a(598),a(599),a(600),a(601),a(602),a(603),a(604),a(605),a(606),a(607),a(608),a(610),a(612),a(613),a(614),a(615),a(616),a(617),a(618),a(619),a(620),a(621),a(336),a(338),a(339),a(340),a(341),a(342),a(343),a(344),a(345),a(346),a(347),a(348),a(349),a(350),a(351),a(352),a(353),a(354),a(622),a(623),a(624),a(626),a(355),a(356),a(357),a(628),a(629),a(630),a(631),a(632),a(633),a(634),a(635),a(359),a(637),a(638),a(639),a(641),a(361),a(642),a(362);var n=a(0),i=a.n(n),r=a(38),c=a.n(r),s=a(105),o=a(41),l=a(25),d=a.n(l),u="login_user",m="register_user",j="auth_user",b="logout_user",h="find_user",p="/api/users",x="https://api.themoviedb.org/3/",O="bdf568780deca50dcb78d22f64ed951d",f="http://image.tmdb.org/t/p/";function v(){var e=d.a.get("".concat(p,"/auth")).then((function(e){return e.data}));return{type:j,payload:e}}var g=a(46),y=a(2),w=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;function i(i){var r=Object(g.c)((function(e){return e.user})),c=Object(g.b)();return Object(n.useEffect)((function(){c(v()).then((function(e){e.payload.isAuth?(a&&!e.payload.isAdmin||!1===t)&&i.history.push("/"):t&&i.history.push("/login")}))}),[]),Object(y.jsx)(e,Object(o.a)(Object(o.a)({},i),{},{user:r}))}return i},I=a(67),S=a(19);var k=function(e){return Object(y.jsx)("div",{style:{background:"url(".concat(e.image,")"),height:"500px",backgroundSize:"100%, cover",backgroundPosition:"center, center",width:"100%",position:"relative"},children:Object(y.jsx)("div",{children:Object(y.jsxs)("div",{style:{position:"absolute",maxWidth:"500px",bottom:"2rem",marginLeft:"2rem"},children:[Object(y.jsxs)("h2",{style:{color:"white"},children:[" ",e.title]}),Object(y.jsx)("p",{style:{color:"white",fontSize:"1rem"},children:e.desc})]})})})},C=a(788);a(676);var N=function(e){var t=Object(n.useState)(!1),a=Object(S.a)(t,2),i=a[0],r=a[1];return e.landingPage?Object(y.jsx)(C.a,{lg:6,md:8,sm:12,xs:24,children:Object(y.jsx)("div",{style:{position:"relative"},children:Object(y.jsx)("a",{href:"/movie/".concat(e.movieId),children:Object(y.jsx)("img",{style:{width:"100%",height:"320px",border:"2px solid black"},src:e.image,alt:e.movieName})})})}):Object(y.jsx)(C.a,{lg:6,md:8,sm:12,xs:24,children:Object(y.jsx)("div",{onMouseEnter:function(){return r(!0)},onMouseLeave:function(){return r(!1)},style:{position:"relative"},children:i?Object(y.jsx)("div",{style:{width:"100%",height:"320px",border:"2px solid black"},children:Object(y.jsx)("h2",{style:{marginLeft:"7px"},children:e.characterName})}):e.image?Object(y.jsx)("img",{style:{width:"100%",height:"320px",border:"2px solid black"},src:e.image,alt:e.characterName}):Object(y.jsx)("div",{style:{width:"100%",height:"320px",border:"2px solid black"},children:Object(y.jsx)("h2",{style:{marginLeft:"7px"},children:e.characterName})})})})},_=a(789);var T=function(){var e=Object(n.useState)([]),t=Object(S.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(null),s=Object(S.a)(c,2),o=s[0],l=s[1],u=Object(n.useState)(0),m=Object(S.a)(u,2),j=m[0],b=m[1];Object(n.useEffect)((function(){var e="".concat(x,"movie/popular?api_key=").concat(O,"&language=en-US&page=1");h(e)}),[]);var h=function(e){d.a.get(e).then((function(e){r([].concat(Object(I.a)(a),Object(I.a)(e.data.results))),l(e.data.results[0]),console.log(e.data),b(e.data.page)}))};return Object(y.jsxs)("div",{style:{width:"100%",margin:"0"},children:[null!=o&&Object(y.jsx)(k,{image:"".concat(f,"w1280").concat(o.backdrop_path),title:o.title,desc:o.overview}),Object(y.jsxs)("div",{style:{width:"85%",margin:"0rem auto",paddingTop:"6rem"},children:[Object(y.jsx)("h2",{children:"Movies by latest"}),Object(y.jsx)("hr",{}),Object(y.jsx)(_.a,{gutter:[10,10],children:a&&a.map((function(e,t){return Object(y.jsx)(i.a.Fragment,{children:Object(y.jsx)(N,{landingPage:!0,image:e.poster_path?"".concat(f,"w500").concat(e.poster_path):null,movieId:e.id,movieName:e.original_title})},t)}))})]}),Object(y.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(y.jsx)("button",{style:{marginTop:"1rem"},onClick:function(){var e="".concat(x,"movie/popular?api_key=").concat(O,"&language=en-US&page=").concat(j+1);h(e)},children:"Load More"})})]})},E=a(132),F=a(64),L=a(792),P=a(793),q=a(795),D=a(798),R=a(409),M=a(790),B=L.a.Title;var z=Object(s.f)((function(e){var t=Object(g.b)(),a=!!localStorage.getItem("rememberMe"),i=Object(n.useState)(""),r=Object(S.a)(i,2),c=r[0],s=r[1],o=Object(n.useState)(a),l=Object(S.a)(o,2),m=l[0],j=l[1],b=function(){j(!m)};return Object(y.jsx)(E.a,{initialValues:{email:"",password:""},validationSchema:F.a().shape({email:F.c().email("Email is invalid").required("Email is required"),password:F.c().min(6,"Password must be at least 6 characters").required("Password is required")}),onSubmit:function(a,n){var i=n.setSubmitting;setTimeout((function(){var n={email:a.email,password:a.password};t(function(e){var t=d.a.post("".concat(p,"/login"),e).then((function(e){return e.data}));return{type:u,payload:t}}(n)).then((function(t){t.payload.loginSuccess?(window.localStorage.setItem("userId",t.payload.userId),!0===m?window.localStorage.setItem("rememberMe",a.id):localStorage.removeItem("rememberMe"),e.history.push("/")):s("Check out your Account or Password again")})).catch((function(e){s("Check out your Account or Password again"),setTimeout((function(){s("")}),3e3)})),i(!1)}),500)},children:function(e){var t=e.values,a=e.touched,n=e.errors,i=(e.dirty,e.isSubmitting),r=e.handleChange,s=e.handleBlur,o=e.handleSubmit;e.handleReset;return Object(y.jsxs)("div",{className:"app",style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(y.jsx)(B,{level:2,children:"Log In"}),Object(y.jsxs)("form",{onSubmit:o,style:{width:"350px"},children:[Object(y.jsxs)(P.a.Item,{required:!0,children:[Object(y.jsx)(q.a,{id:"email",prefix:!0,placeholder:"Enter your email",type:"email",value:t.email,onChange:r,onBlur:s,className:n.email&&a.email?"text-input error":"text-input"}),n.email&&a.email&&Object(y.jsx)("div",{className:"input-feedback",style:{marginTop:"5px"},children:n.email})]}),Object(y.jsxs)(P.a.Item,{required:!0,children:[Object(y.jsx)(q.a,{id:"password",prefix:Object(y.jsx)(M.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Enter your password",type:"password",value:t.password,onChange:r,onBlur:s,className:n.password&&a.password?"text-input error":"text-input"}),n.password&&a.password&&Object(y.jsx)("div",{className:"input-feedback",style:{marginTop:"5px"},children:n.password})]}),c&&Object(y.jsx)("label",{children:Object(y.jsx)("p",{style:{color:"#ff0000bf",fontSize:"0.7rem",border:"1px solid",padding:"1rem",borderRadius:"10px"},children:c})}),Object(y.jsxs)(P.a.Item,{children:[Object(y.jsx)(D.a,{id:"rememberMe",onChange:b,checked:m,children:"Remember me"}),Object(y.jsx)("a",{className:"login-form-forgot",href:"/reset",style:{float:"right"},children:"forgot password"}),Object(y.jsx)("div",{children:Object(y.jsx)(R.a,{type:"primary",htmlType:"submit",className:"login-form-button",style:{minWidth:"100%"},disabled:i,onSubmit:o,children:"Log in"})}),"Or ",Object(y.jsx)("a",{href:"/register",children:"register now!"})]})]})]})}})})),A=a(250),W=a.n(A),V={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},U={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}};var X=function(e){var t=Object(g.b)();return Object(y.jsx)(E.a,{initialValues:{email:"",lastName:"",name:"",password:"",confirmPassword:""},validationSchema:F.a().shape({name:F.c().required("Name is required"),lastName:F.c().required("Last Name is required"),email:F.c().email("Email is invalid").required("Email is required"),password:F.c().min(6,"Password must be at least 6 characters").required("Password is required"),confirmPassword:F.c().oneOf([F.b("password"),null],"Passwords must match").required("Confirm Password is required")}),onSubmit:function(a,n){var i=n.setSubmitting;setTimeout((function(){var n={email:a.email,password:a.password,name:a.name,lastname:a.lastname,image:"http://gravatar.com/avatar/".concat(W()().unix(),"?d=identicon")};t(function(e){var t=d.a.post("".concat(p,"/register"),e).then((function(e){return e.data}));return{type:m,payload:t}}(n)).then((function(t){t.payload.success?e.history.push("/login"):alert(t.payload.err.errmsg)})),i(!1)}),500)},children:function(e){var t=e.values,a=e.touched,n=e.errors,i=(e.dirty,e.isSubmitting),r=e.handleChange,c=e.handleBlur,s=e.handleSubmit;e.handleReset;return Object(y.jsxs)("div",{className:"app",children:[Object(y.jsx)("h2",{children:"Sign up"}),Object(y.jsxs)(P.a,Object(o.a)(Object(o.a)({style:{minWidth:"375px"}},V),{},{onSubmit:s,children:[Object(y.jsxs)(P.a.Item,{required:!0,label:"Name",children:[Object(y.jsx)(q.a,{id:"name",placeholder:"Enter your name",type:"text",value:t.name,onChange:r,onBlur:c,className:n.name&&a.name?"text-input error":"text-input"}),n.name&&a.name&&Object(y.jsx)("div",{className:"input-feedback",style:{marginTop:"5px"},children:n.name})]}),Object(y.jsxs)(P.a.Item,{required:!0,label:"Last Name",children:[Object(y.jsx)(q.a,{id:"lastName",placeholder:"Enter your Last Name",type:"text",value:t.lastName,onChange:r,onBlur:c,className:n.lastName&&a.lastName?"text-input error":"text-input"}),n.lastName&&a.lastName&&Object(y.jsx)("div",{className:"input-feedback",style:{marginTop:"5px"},children:n.lastName})]}),Object(y.jsxs)(P.a.Item,{required:!0,label:"Email",hasFeedback:!0,validateStatus:n.email&&a.email?"error":"success",children:[Object(y.jsx)(q.a,{id:"email",placeholder:"Enter your Email",type:"email",value:t.email,onChange:r,onBlur:c,className:n.email&&a.email?"text-input error":"text-input"}),n.email&&a.email&&Object(y.jsx)("div",{className:"input-feedback",style:{marginTop:"5px"},children:n.email})]}),Object(y.jsxs)(P.a.Item,{required:!0,label:"Password",hasFeedback:!0,validateStatus:n.password&&a.password?"error":"success",children:[Object(y.jsx)(q.a,{id:"password",placeholder:"Enter your password",type:"password",value:t.password,onChange:r,onBlur:c,className:n.password&&a.password?"text-input error":"text-input"}),n.password&&a.password&&Object(y.jsx)("div",{className:"input-feedback",style:{marginTop:"5px"},children:n.password})]}),Object(y.jsxs)(P.a.Item,{required:!0,label:"Confirm",hasFeedback:!0,children:[Object(y.jsx)(q.a,{id:"confirmPassword",placeholder:"Enter your confirmPassword",type:"password",value:t.confirmPassword,onChange:r,onBlur:c,className:n.confirmPassword&&a.confirmPassword?"text-input error":"text-input"}),n.confirmPassword&&a.confirmPassword&&Object(y.jsx)("div",{className:"input-feedback",style:{marginTop:"5px"},children:n.confirmPassword})]}),Object(y.jsx)(P.a.Item,Object(o.a)(Object(o.a)({},U),{},{children:Object(y.jsx)(R.a,{onClick:s,type:"primary",disabled:i,children:"Submit"})}))]}))]})}})},G=a(794);G.a.SubMenu,G.a.ItemGroup;var J=function(e){return Object(y.jsxs)(G.a,{mode:e.mode,children:[Object(y.jsx)(G.a.Item,{style:{marginTop:"10px",fontSize:"20px",fontWeight:"600"},children:Object(y.jsx)("a",{href:"/",children:"Home"})},"mail"),Object(y.jsx)(G.a.Item,{style:{marginTop:"10px",fontSize:"20px",fontWeight:"600"},children:Object(y.jsx)("a",{href:"/favorite",children:"favorite"})},"favorite")]})};var H=Object(s.f)((function(e){var t=Object(g.c)((function(e){return e.user}));return t.userData&&!t.userData.isAuth?Object(y.jsxs)(G.a,{mode:e.mode,children:[Object(y.jsx)(G.a.Item,{style:{marginTop:"10px",fontSize:"20px",fontWeight:"600"},children:Object(y.jsx)("a",{href:"/login",children:"Signin"})},"mail"),Object(y.jsx)(G.a.Item,{style:{marginTop:"10px",fontSize:"20px",fontWeight:"600"},children:Object(y.jsx)("a",{href:"/register",children:"Signup"})},"app")]}):Object(y.jsx)(G.a,{mode:e.mode,style:{marginTop:"10px",fontSize:"20px",fontWeight:"600"},children:Object(y.jsx)(G.a.Item,{children:Object(y.jsx)("a",{onClick:function(){d.a.get("".concat(p,"/logout")).then((function(t){200===t.status?(e.history.push("/login"),localStorage.clear()):alert("Log Out Failed")}))},children:"Logout"})},"logout")})})),Y=a(796),$=(a(779),a(251));var K=function(){var e=Object(n.useState)(!1),t=Object(S.a)(e,2),a=t[0],i=t[1];return Object(y.jsxs)("nav",{className:"menu",style:{position:"fixed",zIndex:5,width:"100%"},children:[Object(y.jsx)("div",{className:"menu__logo",children:Object(y.jsx)("a",{href:"/",children:Object(y.jsx)("img",{src:"https://pngimage.net/wp-content/uploads/2018/06/video-camera-emoji-png-4.png",style:{width:"50px",marginBottom:"10px"}})})}),Object(y.jsxs)("div",{className:"menu__container",style:{marginTop:"10px"},children:[Object(y.jsx)("div",{className:"menu_left",children:Object(y.jsx)(J,{mode:"horizontal"})}),Object(y.jsx)("div",{className:"menu_rigth",children:Object(y.jsx)(H,{mode:"horizontal"})}),Object(y.jsx)(R.a,{className:"menu__mobile-button",type:"primary",onClick:function(){i(!0)},children:Object(y.jsx)($.a,{type:"align-right"})}),Object(y.jsxs)(Y.a,{title:"Basic Drawer",placement:"right",className:"menu_drawer",closable:!1,onClose:function(){i(!1)},visible:a,children:[Object(y.jsx)(J,{mode:"inline"}),Object(y.jsx)(H,{mode:"inline"})]})]})]})};var Q=function(){return Object(y.jsx)("div",{style:{height:"80px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:"1rem"},children:Object(y.jsx)("p",{children:" Movie App "})})},Z={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},ee={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}};var te=function(e){var t=Object(g.b)();return Object(y.jsx)(E.a,{initialValues:{email:""},validationSchema:F.a().shape({email:F.c().email("Email is invalid").required("Email is required")}),onSubmit:function(e,a){var n=a.setSubmitting;setTimeout((function(){var a={email:e.email};t(function(e){var t=d.a.get("http://localhost:5000/find/",e).then((function(e){return e.data}));return{type:j,payload:t}}(a)).then((function(e){e.payload.success,console.log(e.payload)})),n(!1)}),500)},children:function(e){var t=e.values,a=e.touched,n=e.errors,i=(e.dirty,e.isSubmitting),r=e.handleChange,c=e.handleBlur,s=e.handleSubmit;e.handleReset;return Object(y.jsxs)("div",{className:"app",children:[Object(y.jsx)("h2",{children:"What's Your Email?"}),Object(y.jsxs)(P.a,Object(o.a)(Object(o.a)({style:{minWidth:"375px"}},Z),{},{onSubmit:s,children:[Object(y.jsxs)(P.a.Item,{required:!0,label:"Email",hasFeedback:!0,validateStatus:n.email&&a.email?"error":"success",children:[Object(y.jsx)(q.a,{id:"email",placeholder:"Enter your Email",type:"email",value:t.email,onChange:r,onBlur:c,className:n.email&&a.email?"text-input error":"text-input"}),n.email&&a.email&&Object(y.jsx)("div",{className:"input-feedback",style:{marginTop:"5px"},children:n.email})]}),Object(y.jsx)(P.a.Item,Object(o.a)(Object(o.a)({},ee),{},{children:Object(y.jsx)(R.a,{onClick:s,type:"primary",disabled:i,children:"Submit"})}))]}))]})}})},ae=a(799);var ne=function(e){var t=e.movie;return Object(y.jsxs)(ae.b,{title:"movie Info",bordered:!0,children:[Object(y.jsx)(ae.b.Item,{label:"Title",children:t.title}),Object(y.jsx)(ae.b.Item,{label:"Release Date",children:t.release_date}),Object(y.jsx)(ae.b.Item,{label:"Revenue",children:t.revenue}),Object(y.jsx)(ae.b.Item,{label:"Vote Count",children:t.vote_count}),Object(y.jsx)(ae.b.Item,{label:"Status",children:t.status}),Object(y.jsx)(ae.b.Item,{label:"Popularity",children:t.popularity})]})};var ie=function(e){var t=e.userFrom,a=e.movieId,i=e.movieInfo.title,r=e.movieInfo.backdrop_path,c=e.movieInfo.runtime,s=Object(n.useState)(0),o=Object(S.a)(s,2),l=o[0],u=o[1],m=Object(n.useState)(!1),j=Object(S.a)(m,2),b=j[0],h=j[1],p=Object(n.useState)(!1),x=Object(S.a)(p,2),O=x[0],f=x[1],v={userFrom:t,movieId:a,movieTitle:i,moviePost:r,movieRunTime:c};Object(n.useEffect)((function(){d.a.post("http://localhost:5000/api/favorite/favoriteNumber",v).then((function(e){e.data.success?u(e.data.favoriteNumber):alert("faied bringing number")})),d.a.post("http://localhost:5000/api/favorite/favorited",v).then((function(e){e.data.success?h(e.data.favorited):alert("faied bringing info")}))}),[]);var g=function(){b?d.a.post("http://localhost:5000/api/favorite/removeFromFavorite",v).then((function(e){e.data.success?(u(l-1),h(!b)):alert("failed removing favorite")})):d.a.post("http://localhost:5000/api/favorite/addToFavorite",v).then((function(e){e.data.success?(u(l+1),h(!b)):alert("failed adding favorite")}))};return Object(y.jsx)("div",{onMouseEnter:function(){return f(!O)},onMouseLeave:function(){return f(!O)},style:{display:"flex",justifyContent:"flex-end"},children:Object(y.jsxs)(R.a,{onClick:g,children:[b?"Not Favorite":"Add to Favorite"," ",l]})})},re=a(791),ce=a(797),se=a(85),oe=a(800),le=a(801),de=a(802),ue=a(803);var me=function(e){var t=Object(g.c)((function(e){return e.user})),a=Object(n.useState)(0),i=Object(S.a)(a,2),r=i[0],c=i[1],s=Object(n.useState)(0),o=Object(S.a)(s,2),l=o[0],u=o[1],m=Object(n.useState)(null),j=Object(S.a)(m,2),b=j[0],h=j[1],p=Object(n.useState)(null),x=Object(S.a)(p,2),O=x[0],f=x[1],v={commentId:e.commentId,userId:e.userId};Object(n.useEffect)((function(){d.a.post("/api/like/getLikes",v).then((function(t){t.data.success?(c(t.data.likes.length),t.data.likes.map((function(t){t.userId===e.userId&&f("liked")}))):alert("failed bringing Likes")})),d.a.post("/api/like/getDislikes",v).then((function(t){t.data.success?(u(t.data.dislikes.length),t.data.dislikes.map((function(t){t.userId===e.userId&&h("disliked")}))):alert("failed bringing dislikes")}))}),[]);var w=function(){if(t.userData&&!t.userData.isAuth)return alert("Please Log in first");null===O?d.a.post("/api/like/upLike",v).then((function(e){e.data.success?(c(r+1),f("liked"),null!==b&&(h(null),u(l-1))):alert("failed uplikeing")})):d.a.post("/api/like/unLike",v).then((function(e){e.data.success?(c(r-1),f(null)):alert("failed unlikeing")}))},I=function(){if(t.userData&&!t.userData.isAuth)return alert("Please Log in first");null!==b?d.a.post("/api/like/unDislike",v).then((function(e){e.data.success?(u(l-1),h(null)):alert("failed undislikeing")})):d.a.post("/api/like/upDislike",v).then((function(e){e.data.success?(u(l+1),h("disliked"),null!==O&&(f(null),c(r-1))):alert("failed updislikeing")}))};return Object(y.jsxs)("div",{children:[Object(y.jsxs)("span",{children:[Object(y.jsx)(se.a,{title:"Like!",color:"blue",children:O?Object(y.jsx)(oe.a,{onClick:w}):Object(y.jsx)(le.a,{onClick:w})}),Object(y.jsx)("span",{style:{padding:"8px",cursor:"auto"},children:r})]},"comment-basic-like"),Object(y.jsxs)("span",{children:[Object(y.jsx)(se.a,{color:"blue",title:"Dislike!",children:b?Object(y.jsx)(de.a,{onClick:I}):Object(y.jsx)(ue.a,{onClick:I})}),Object(y.jsx)("span",{style:{paddingLeft:"8px",cursor:"auto"},children:l})]},"comment-basic-dislike")]})},je=q.a.TextArea;var be=function(e){var t=Object(g.c)((function(e){return e.user})),a=Object(n.useState)(!1),i=Object(S.a)(a,2),r=i[0],c=i[1],s=Object(n.useState)(""),o=Object(S.a)(s,2),l=o[0],u=o[1],m=[Object(y.jsx)(me,{commentId:e.comment._id,userId:t.userData._id}),Object(y.jsx)("span",{style:{marginLeft:"15px"},onClick:function(){c(!r)},children:" Reply to "},"comment-basic-reply-to")];return Object(y.jsxs)("div",{children:[Object(y.jsx)(re.a,{actions:m,author:e.comment.writer.name,avatar:Object(y.jsx)(ce.a,{src:e.comment.writer.image,alt:"image"}),content:Object(y.jsx)("p",{children:e.comment.content})}),r&&Object(y.jsxs)("form",{style:{display:"flex",width:"80%"},children:[Object(y.jsx)(je,{style:{width:"100%",borderRadius:"5px",height:"50px"},onChange:function(e){u(e.target.value)},value:l,placeholder:"write some comments"}),Object(y.jsx)("br",{}),Object(y.jsx)(R.a,{style:{backgroundColor:"gray",borderRadius:"5px",width:"20%",height:"50px",marginLeft:"2px"},onClick:function(a){a.preventDefault();var n={content:l,writer:t.userData._id,movieId:e.movieId,responseTo:e.comment._id};d.a.post("/api/comment/saveComment",n).then((function(t){t.data.success?(console.log(t.data.result),e.refreshFunction(t.data.result),u("")):alert("failed saving comment")})),c(!r)},children:"Submit"})]})]})};var he=function e(t){var a=Object(n.useState)(!1),r=Object(S.a)(a,2),c=r[0],s=r[1],o=Object(n.useState)(0),l=Object(S.a)(o,2),d=l[0],u=l[1];Object(n.useEffect)((function(){var e=0;t.comments.map((function(a){console.log(a._id),a.responseTo===t.parentCommentId&&e++})),u(e)}),[t.comments,t.parentCommentId]);var m,j=function(){s(!c)};return Object(y.jsxs)("div",{children:[d>0&&Object(y.jsxs)("p",{style:{fontSize:"14px",margin:0,color:"gray"},onClick:function(){s(!c)},children:["View ",d," more comment(s)"]}),c&&(m=t.parentCommentId,t.comments.map((function(a,n){return Object(y.jsx)(i.a.Fragment,{children:a.responseTo===m&&Object(y.jsxs)("div",{style:{width:"80%",marginLeft:"40px"},children:[Object(y.jsx)(be,{comment:a,postId:t.postId,refreshFunction:t.refreshFunction,setShown:j}),Object(y.jsx)(e,{comments:t.comments,parentCommentId:a._id,postId:t.postId,refreshFunction:t.refreshFunction})]})})})))]})},pe=q.a.TextArea;L.a.Title;var xe=function(e){var t=Object(g.c)((function(e){return e.user})),a=Object(n.useState)(""),i=Object(S.a)(a,2),r=i[0],c=i[1];return Object(y.jsxs)("div",{children:[Object(y.jsx)("br",{}),Object(y.jsx)("p",{children:" Reples "}),Object(y.jsx)("hr",{}),e.comments&&e.comments.map((function(t,a){return!t.responseTo&&Object(y.jsxs)("div",{children:[Object(y.jsx)(be,{comment:t,movieId:e.movieId,refreshFunction:e.refreshFunction}),Object(y.jsx)(he,{comments:e.comments,parentCommentId:t._id,movieId:e.movieId,refreshFunction:e.refreshFunction})]})})),e.comments&&0===e.comments.length&&Object(y.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px"},children:"Be the first one who shares your thought about this movie"}),Object(y.jsxs)("form",{style:{display:"flex"},onSubmit:!0,children:[Object(y.jsx)(pe,{style:{width:"100%",borderRadius:"5px",height:"50px"},onChange:function(e){c(e.target.value)},value:r,placeholder:"write some comments"}),Object(y.jsx)("br",{}),Object(y.jsx)(R.a,{style:{backgroundColor:"gray",borderRadius:"5px",width:"20%",height:"50px",marginLeft:"2px"},onClick:function(a){a.preventDefault();var n={content:r,writer:t.userData._id,movieId:e.movieId};d.a.post("/api/comment/saveComment",n).then((function(t){t.data.success?(console.log(t.data.result),e.refreshFunction(t.data.result),c("")):alert("failed saving comment")}))},children:"Submit"})]})]})};var Oe=function(e){var t=e.match.params.movieId,a=Object(n.useState)([]),r=Object(S.a)(a,2),c=r[0],s=r[1],o=Object(n.useState)([]),l=Object(S.a)(o,2),u=l[0],m=l[1],j=Object(n.useState)(!1),b=Object(S.a)(j,2),h=b[0],p=b[1],v=Object(n.useState)([]),g=Object(S.a)(v,2),w=g[0],I=g[1];return Object(n.useEffect)((function(){var e="".concat(x,"movie/").concat(t,"/credits?api_key=").concat(O),a="".concat(x,"movie/").concat(t,"?api_key=").concat(O);d.a.get(a).then((function(e){s(e.data)})),d.a.get(e).then((function(e){m(e.data.cast)}));var n={movieId:t};d.a.post("/api/comment/getComments",n).then((function(e){e.data.success?I(e.data.comments):alert("failed bringing comments")}))}),[]),Object(y.jsxs)("div",{children:[Object(y.jsx)(k,{image:"".concat(f,"w1280").concat(c.backdrop_path),title:c.title,desc:c.overview}),Object(y.jsxs)("div",{style:{width:"85%",margin:"1rem auto"},children:[Object(y.jsx)(ie,{movieInfo:c,movieId:t,userFrom:localStorage.getItem("userId")}),Object(y.jsx)(ne,{movie:c,movieId:t,userFrom:localStorage.getItem("userId")}),Object(y.jsx)("br",{}),Object(y.jsx)("div",{style:{display:"flex",justifyContent:"center",margin:"2rem"},children:Object(y.jsx)(R.a,{onClick:function(){return p(!h)},children:" Toggle Actor View "})}),h?Object(y.jsx)(_.a,{gutter:[16,16],children:u&&u.map((function(e,t){return Object(y.jsx)(i.a.Fragment,{children:Object(y.jsx)(N,{image:e.profile_path?"".concat(f,"w500").concat(e.profile_path):null,characterName:e.name})},t)}))}):null,Object(y.jsx)(xe,{movieId:t,comments:w,refreshFunction:function(e){I(w.concat(e))}})]})]})},fe=(a(780),a(413));var ve=function(){var e={userFrom:localStorage.getItem("userId")},t=Object(n.useState)([]),a=Object(S.a)(t,2),i=a[0],r=a[1];Object(n.useEffect)((function(){d.a.post("http://localhost:5000/api/favorite/getFavoredMovie",e).then((function(e){e.data.success?r(e.data.favorites):alert("failed bringing favored movies")}))}),[i]);var c=i.map((function(e,t){var a=Object(y.jsx)("div",{children:e.moviePost?Object(y.jsx)("img",{src:"".concat(f,"w400").concat(e.moviePost)}):"no image"});return Object(y.jsxs)("tr",{children:[Object(y.jsx)(fe.a,{content:a,title:e.movieTitle,children:Object(y.jsx)("td",{children:e.movieTitle})}),Object(y.jsxs)("td",{children:[e.movieRunTime," mins"]}),Object(y.jsx)("td",{children:Object(y.jsx)("a",{href:"/movie/".concat(e.movieId),children:"Go To Movie"})}),Object(y.jsx)("td",{children:Object(y.jsx)("button",{onClick:function(){return function(e,t){var a={movieId:e,userFrom:t};d.a.post("http://localhost:5000/api/favorite/removeFromFavorite",a).then((function(e){e.data.success?i.forEach((function(e,t){i.splice(t,1)})):alert("failed removing")}))}(e.movieId,e.userFrom)},children:"Remove"})})]},t)}));return Object(y.jsxs)("div",{style:{width:"85%",marginLeft:"3rem",marginRight:"3rem",marginBottom:"3rem",paddingTop:"130px"},children:[Object(y.jsx)("h2",{children:" My Favorites "}),Object(y.jsx)("hr",{}),Object(y.jsxs)("table",{children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:"Movie Title"}),Object(y.jsx)("th",{children:"Movie RunTime"}),Object(y.jsx)("th",{children:"Go to Movie"}),Object(y.jsx)("td",{children:"Remove from Favorite"})]})}),Object(y.jsx)("tbody",{children:c})]})]})};var ge=function(){return Object(y.jsxs)(n.Suspense,{fallback:Object(y.jsx)("div",{children:"Loading..."}),children:[Object(y.jsx)(K,{}),Object(y.jsx)("div",{children:Object(y.jsxs)(s.c,{children:[Object(y.jsx)(s.a,{exact:!0,path:"/",component:w(T,null)}),Object(y.jsx)(s.a,{exact:!0,path:"/login",component:w(z,!1)}),Object(y.jsx)(s.a,{exact:!0,path:"/register",component:w(X,!1)}),Object(y.jsx)(s.a,{exact:!0,path:"/reset",component:w(te,!1)}),Object(y.jsx)(s.a,{exact:!0,path:"/movie/:movieId",component:w(Oe,null)}),Object(y.jsx)(s.a,{exact:!0,path:"/favorite",component:w(ve,!0)})]})}),Object(y.jsx)(Q,{})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ye=a(159),we=a(113),Ie=Object(we.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(o.a)(Object(o.a)({},e),{},{register:t.payload});case u:return Object(o.a)(Object(o.a)({},e),{},{loginSucces:t.payload});case j:return Object(o.a)(Object(o.a)({},e),{},{userData:t.payload});case b:return Object(o.a)({},e);case h:return Object(o.a)(Object(o.a)({},e),{},{userData:t.payload});default:return e}}}),Se=a(407),ke=a.n(Se),Ce=a(408),Ne=(a(784),Object(we.a)(ke.a,Ce.a)(we.d));c.a.render(Object(y.jsx)(g.a,{store:Ne(Ie,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),children:Object(y.jsx)(ye.a,{children:Object(y.jsx)(ge,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[785,1,2]]]);
//# sourceMappingURL=main.5abcb62b.chunk.js.map